### 一、代码规范项目总结

1. 勤打日志，在参数入参和结果返回的时候打上日志，方便查看并排查错误信息。日志在生产环境上会进行级别配置，防止日志过多。但是在开发环境上需要多打日志，可以快速排查错误，控制好日志级别。
   - log4j定义了8个级别的log（从低到高）：**ALL 、TRACE 、DEBUG 、INFO 、WARN 、ERROR 、FATAL 、OFF** ，一般常用的日志级别是
2. 传输字段需要进行校验、并且和接口文档对齐。
3. 对传入参数和返回结果进行多次校验，防止抛出空指针异常。
4. 和自己对接的上下游多多交流，尽可能了解并确定双方的入参信息和结果信息，了解参数是否必传并进行校验，了解入参和结果的对应关系。
5. sz-asgard-admin--用户权益查询wiki项目总结（http://wiki.wayyue.com/pages/viewpage.action?pageId=24983172）
6. 开发的时候从dev上拉下代码创建分支后不再更新本地的分支，等自己的开发完成测试之后，再merge到dev，防止出错。



### 二、sz-asgard-admin项目开发注意事项及说明

1. ##### 申请项目权限

   - 导师给项目路径，自己在上面申请项目权限 https://paas.wayyue.com/o/bk_itsm/#/
   
2. ##### 本地运行调试需要步骤：

   - 将xml中cat相关服务注释掉（原因：本地环境没有cat服务）
   - app.properties 添加  apollo.meta = http://101.133.216.118:8080

3. ##### 分支管理：

   1. 从dev上拉取创建一个自己的feature分支，并创建jira需求名字
   2. push前拉取dev最新代码，并编译查看是否有冲突，解决jar包更新问题，并确定没有修改其他人的代码。
   3. 要merge到其他分支时先确保自己的分支已经push完成，然后更新本地的其他分支，没有问题后进行merge操作并push。
   4. push前需要还原配置文件的信息。

4. ##### 开发环境部署：

   1. 本地maven进行clean和install打包war包
   2. 在服务器上/software/pkg/war/ 上，删除（rm -rf）对应war包，然后上传更新的war包（rz）
   3. 使用部署脚本 app-tools deploy ** 对项目进行部署
   4. 在/szdata/logs/.../...log上查看对应的日志

5. ##### 接口文档：

   - 在上面创建对应文件 并编写对应接口文档http://47.97.67.85:3000/
   - 接口文档需要前后端进行对接并确定接口参数和类型，开发时严格按照接口文档，如果需要修改及时通知。
   - 备注上需要说明哪些时必须和非必须的，有特殊要求也详细备注。

6. ##### jira项目管理：

   - 负责人创建jira项目并分配给对应开发 http://jira.wayyue.com/
   - 开发对状态进行修改，并添加需求描述、任务描述、前后端发布应用、上线SQL
   - 在服务端、业务端、前端联调自测成功后，进行提测，想测试要fat分支，进行开发环境测试。
   - 用例评审、merge到dev上，在dev上创建一个release分支后push上去，该版本为封测版本。
   - 在Rocket.Chat 发以及release版本号 例如： b test_sz-asgard-admin, tag_ver=1.50.00，即测试环境发布，测试环境测试完成
   - 

7. ##### Wiki文档：

   - 记录开发流程文档 http://wiki.wayyue.com/
   - 在wiki上可以更新自己完成需求的整体流程（背景、业务说明（时序图、流程图）、功能说明、流程说明）等



### 三、SQL项目

1. 切换到dev分支。
2. 创建上线时间文件。
3. 文件下创建需求码和需求描述sql，放入改动的sql语句并push。
4. 在gitlab上找到该文件链接复制到jira上的sql改动。
5. 在开发环境上执行sql并验证sql是否执行成功。



### 四、环境

1. ##### 本地所需环境及工具：

   - JDK：后端基本开发环境1.8
   - IDEA：后端开发 IDE
   - Maven：项目管理工具（依赖管理）
     - 配置公司Settings文件，用于连接公司maven私服
   - Tomcat：JavaWeb服务器，本地部署调试
   - Git：版本控制工具
     - 配置git用户信息及配置gitlab  SSH-Key (http://wiki.wayyue.com/pages/viewpage.action?pageId=2490419)
   - XShell：连接远程服务器
   - VPN：设置开发环境、测试环境代理
   - Chrome：设置开发代理可以开发环境调试
   - Chromeium：访问其他资源。因为开发代理开了后有些网站不能访问，所以可以两个浏览器进行备用。
   - Navicat：用于链接远程数据库
   - Redis：可以使用本地Redis，或者用于链接远程Redis服务
   - PostMan：接口测试

2. ##### 自己感觉有用的小工具：

   - NodePad++：用于查看一些文件。
   - Everything：快速定位电脑文件位置
   - Typora：Markdown编辑器，快捷键很方便，简洁明了
   - Adobe Acrobat DC：PDF编辑器
   - ProcessOn：流程图等绘画工具（https://www.processon.com/diagrams）
   - IDEA（插件）
     - SequenceDiagram：可以查看方法的时序图，可以快速了解方法的调用链路，熟悉代码。
     - Lombok插件：lombok插件
     - Free Mybatis Plugin： myBatis 代码、xml匹配工具
     - Translation：翻译插件

3. ##### 环境列表：

   - 代理配置：
     - 开发环境代理：106.15.138.124 : 4128
     - 测试环境代理：118.178.94.164 : 4128
   - 开发环境，服务器、公共服务等
     - 开发环境说明： http://wiki.wayyue.com/pages/viewpage.action?pageId=15794249
     - 研发新人引导： http://wiki.wayyue.com/pages/viewpage.action?pageId=10127070
     - 公司内部平台： http://nbs.wayyue.com/platform/ldap.htm


